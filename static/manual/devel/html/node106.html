<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Module airsea -- atmospheric fluxes </TITLE>
<META NAME="description" CONTENT="Module airsea -- atmospheric fluxes ">
<META NAME="keywords" CONTENT="html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="next" HREF="node121.html">
<LINK REL="previous" HREF="node105.html">
<LINK REL="up" HREF="node104.html">
<LINK REL="next" HREF="node107.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html1791"
  HREF="node107.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html1787"
  HREF="node104.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html1781"
  HREF="node105.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html1789"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1792"
  HREF="node107.html">Initialise the air-sea interaction</A>
<B> Up:</B> <A NAME="tex2html1788"
  HREF="node104.html">Air-Sea interaction</A>
<B> Previous:</B> <A NAME="tex2html1782"
  HREF="node105.html">Introduction</A>
 &nbsp; <B>  <A NAME="tex2html1790"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00062000000000000000"></A><A NAME="sec:airsea"></A>
<BR>
Module airsea -- atmospheric fluxes 
</H2>

<P>

<P><P>
<BR>
<I CLASS="sans">INTERFACE:</I>
<PRE>   module airsea
</PRE>
<I CLASS="sans">DESCRIPTION:
<BR></I>

<P>
This module calculates the heat, momentum
   and freshwater fluxes between the ocean and the atmosphere as well as
   the incoming solar radiation. Fluxes and solar radiation may be
   prescribed. Alternatively, they may be calculated by means
   of bulk formulae from observed or modelled meteorological
   parameters and the solar radiation may be calculated
   from longitude, latitude,
   time and cloudiness. For the prescibed fluxes and solar radiation,
   values may be constant or read in from files. All necessary
   setting have to be made in the namelist file <TT>airsea.nml</TT>.

<P>

<P><P>
<BR>
<EM>USES:</EM>
<PRE>   use airsea_variables
   use time,         only: julian_day, time_diff
   use observations, only: read_obs
   IMPLICIT NONE
 
   default: all is private.
   private
</PRE><I CLASS="sans">PUBLIC MEMBER FUNCTIONS:</I>
<PRE>   public                              :: init_air_sea
   public                              :: do_air_sea
   public                              :: clean_air_sea
   public                              :: set_sst
   public                              :: set_ssuv
   public                              :: integrated_fluxes
 ifdef _PRINTSTATE_
   public                              :: print_state_airsea
 endif
</PRE><I CLASS="sans">PUBLIC DATA MEMBERS:</I>
<PRE>   logical,  public                    :: calc_fluxes
   wind speed (m/s)
   REALTYPE, public, target            :: w
   surface short-wave radiation
   and surface heat flux (W/m^2)
   REALTYPE, public, target            :: I_0
   REALTYPE, public                    :: heat
 
   surface stress components (Pa)
   REALTYPE, public                    :: tx,ty
 
   precipitation and  evaporation
   (m/s)
   REALTYPE, public, target            :: precip
   REALTYPE, public, target            :: evap
 
   sea surface temperature (degC), sea surface salinity (psu),
   sea surface current components (m/s)
   REALTYPE, public                    :: sst
   REALTYPE, public                    :: sss
   REALTYPE, public                    :: ssu
   REALTYPE, public                    :: ssv
 
   integrated precipitationa and
   evaporation + sum (m)
   REALTYPE, public                    :: int_precip,int_evap,int_fwf
 
   integrated short-wave radiation,
   surface heat flux (J/m^2)
   REALTYPE, public                    :: int_swr,int_heat
 
   sum of short wave radiation
   and surface heat flux (J/m^2)
   REALTYPE, public                    :: int_total
   REALTYPE, public                    :: cloud
   feedbacks to drag and albedo by biogeochemistry
   REALTYPE, target, public            :: bio_drag_scale,bio_albedo
</PRE><I CLASS="sans">DEFINED PARAMETERS:</I>
<PRE>   integer,  parameter                 :: meteo_unit=20
   integer,  parameter                 :: swr_unit=21
   integer,  parameter                 :: heatflux_unit=22
   integer,  parameter                 :: momentum_unit=23
   integer,  parameter                 :: precip_unit=24
   integer,  parameter                 :: sst_unit=25
   integer,  parameter                 :: sss_unit=26
   integer,  parameter                 :: CONSTVAL=1
   integer,  parameter                 :: FROMFILE=2
</PRE><I CLASS="sans">REVISION HISTORY:</I>
<PRE>   Original author(s): Karsten Bolding, Hans Burchard
</PRE><I CLASS="sans">LOCAL VARIABLES:</I>
<PRE>   logical                   :: init_saved_vars
   integer                   :: swr_method
   integer                   :: fluxes_method
   integer                   :: back_radiation_method
   integer                   :: heat_method
   integer                   :: momentum_method
   integer                   :: precip_method
   integer                   :: sst_method
   integer                   :: sss_method
   integer                   :: ssuv_method
   integer                   :: hum_method
   logical, public           :: rain_impact
   logical, public           :: calc_evaporation
 
   character(len=PATH_MAX)   :: meteo_file
   character(len=PATH_MAX)   :: swr_file
   character(len=PATH_MAX)   :: heatflux_file
   character(len=PATH_MAX)   :: momentumflux_file
   character(len=PATH_MAX)   :: precip_file
   character(len=PATH_MAX)   :: sss_file
   character(len=PATH_MAX)   :: sst_file
 
   REALTYPE                  :: u10,v10
   REALTYPE                  :: airp
   REALTYPE                  :: airt,twet,tdew
   REALTYPE                  :: cloud_obs
   REALTYPE                  :: rh
 
   REALTYPE                  :: const_swr
   REALTYPE                  :: swr_factor
   REALTYPE                  :: const_heat
   REALTYPE                  :: const_tx,const_ty
   REALTYPE                  :: const_precip
   REALTYPE                  :: precip_factor
   REALTYPE                  :: dlon,dlat
 
   short_wave_radiation has an optional argument [swr] and therefore needs an explicit interface
   interface
      function short_wave_radiation(jul,secs,dlon,dlat,cloud,bio_albedo) result(swr)
         integer, intent(in)                 :: jul,secs
         REALTYPE, intent(in)                :: dlon,dlat
         REALTYPE, intent(in)                :: cloud
         REALTYPE, intent(in)                :: bio_albedo
         REALTYPE                            :: swr
      end function short_wave_radiation
   end interface
</PRE><I CLASS="sans">BUGS:</I>
<PRE>   Wind speed - w - is not entirely correct.
   No temporal interpolation is done. If the momentum fluxes tx,ty are
   specified w=0.
   The Fairall and Kondo methods calculate their own w internally.
   w is used by e.g. bio.F90
</PRE>

<P>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html1793"
  HREF="node107.html">Initialise the air-sea interaction module </A>
<LI><A NAME="tex2html1794"
  HREF="node108.html">Obtain the air-sea fluxes</A>
<LI><A NAME="tex2html1795"
  HREF="node109.html">Finish the air-sea interactions</A>
<LI><A NAME="tex2html1796"
  HREF="node110.html">Read meteo data, interpolate in time</A>
<LI><A NAME="tex2html1797"
  HREF="node111.html">Read short wave radiation, interpolate in time</A>
<LI><A NAME="tex2html1798"
  HREF="node112.html">Read heat flux data, interpolate in time</A>
<LI><A NAME="tex2html1799"
  HREF="node113.html">Read momentum flux data, interpolate in time</A>
<LI><A NAME="tex2html1800"
  HREF="node114.html">Read precipitation, interpolate in time</A>
<LI><A NAME="tex2html1801"
  HREF="node115.html">Read SST, interpolate in time</A>
<LI><A NAME="tex2html1802"
  HREF="node116.html">Read SSS, interpolate in time</A>
<LI><A NAME="tex2html1803"
  HREF="node117.html">Integrate short-wave and sea surface fluxes</A>
<LI><A NAME="tex2html1804"
  HREF="node118.html">Set the SST to be used from model.</A>
<LI><A NAME="tex2html1805"
  HREF="node119.html">Set the surface velocities to be used from model.</A>
<LI><A NAME="tex2html1806"
  HREF="node120.html">Print the current state of the air-sea interaction module.</A>
</UL>
<!--End of Table of Child-Links-->
<BR><HR>
<ADDRESS>
Karsten Bolding
2012-12-28
</ADDRESS>
</BODY>
</HTML>
