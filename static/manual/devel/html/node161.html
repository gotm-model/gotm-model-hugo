<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Module ncdfout -- saving the results in NetCDF</TITLE>
<META NAME="description" CONTENT="Module ncdfout -- saving the results in NetCDF">
<META NAME="keywords" CONTENT="html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="previous" HREF="node157.html">
<LINK REL="up" HREF="node150.html">
<LINK REL="next" HREF="node162.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html2518"
  HREF="node162.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html2514"
  HREF="node150.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html2510"
  HREF="node160.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html2516"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2519"
  HREF="node162.html">Create the NetCDF file</A>
<B> Up:</B> <A NAME="tex2html2515"
  HREF="node150.html">Saving the results</A>
<B> Previous:</B> <A NAME="tex2html2511"
  HREF="node160.html">Close files used for</A>
 &nbsp; <B>  <A NAME="tex2html2517"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00083000000000000000">
Module ncdfout -- saving the results in NetCDF</A>
</H2>

<P>

<P><P>
<BR>
<I CLASS="sans">INTERFACE:</I>
<PRE>   module ncdfout
</PRE>
<I CLASS="sans">DESCRIPTION:
<BR></I>

<P>
This module provides routines for saving the GOTM results using
   NetCDF format. A hack has been provided for saving in a way
   that can be used by the GrADS graphics software.
   The <TT>sdfopen()</TT> interface to GrADS
   does not allow for smaller time units than 1 hour, so if GrADS
   output is selected the units for time are set to <TT>hours</TT> and
   not <TT>secs</TT>.

<P>
In both cases, the type and number of variables appearing in the
   output file depends on the turbulence model and the output flags
   set by the user. If you use, for example, the KPP turbulence module
   no information for the TKE, the dissipation rate, the turbulence
   production terms are saved, because the KPP model does not provide
   information about these quantities.

<P>
Note that if you <TT>#define EXTRA_OUTPUT</TT>
   in <TT>cppdef.h</TT>, then you will find the a number of dummy fields
   called <TT>mean1, mean2, ...</TT> and <TT>turb1, turb2, ...</TT> in the
   netCDF output file after re-compiling and runnign GOTM. These extra
   variables are public members  of the <TT>meanflow</TT> and
   <TT>turbulence</TT> modules and are convenient for testing and
   debuging.

<P>

<P><P>
<BR>
<EM>USES:</EM>
<PRE>   use turbulence, only: turb_method
   use netcdf
   IMPLICIT NONE
</PRE><I CLASS="sans">PUBLIC MEMBER FUNCTIONS:</I>
<PRE>   public init_ncdf, do_ncdf_out, close_ncdf
   public define_mode, new_nc_variable, set_attributes, store_data
</PRE><I CLASS="sans">PUBLIC DATA MEMBERS:</I>
<PRE> 
   netCDF file id
   integer, public                     :: ncid
 
   dimension ids
   integer                             :: lon_dim,lat_dim,z_dim,z1_dim
   integer                             :: time_dim
   integer                             :: dim1d(1)
   integer                             :: dim3d(3)
   integer                             :: dim4d(4)
</PRE><I CLASS="sans">REVISION HISTORY:</I>
<PRE>   Original author(s): Karsten Bolding &amp; Hans Burchard
</PRE>

<P>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html2520"
  HREF="node162.html">Create the NetCDF file</A>
<LI><A NAME="tex2html2521"
  HREF="node163.html">Save model results to file</A>
<LI><A NAME="tex2html2522"
  HREF="node164.html">Close files used for saving model results</A>
<LI><A NAME="tex2html2523"
  HREF="node165.html">Begin or end define mode</A>
<LI><A NAME="tex2html2524"
  HREF="node166.html">Define a new NetCDF variable</A>
<LI><A NAME="tex2html2525"
  HREF="node167.html">Set attributes for a NetCDF variable.</A>
<LI><A NAME="tex2html2526"
  HREF="node168.html">Store values in a NetCDF file</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html2518"
  HREF="node162.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html2514"
  HREF="node150.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html2510"
  HREF="node160.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html2516"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2519"
  HREF="node162.html">Create the NetCDF file</A>
<B> Up:</B> <A NAME="tex2html2515"
  HREF="node150.html">Saving the results</A>
<B> Previous:</B> <A NAME="tex2html2511"
  HREF="node160.html">Close files used for</A>
 &nbsp; <B>  <A NAME="tex2html2517"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Karsten Bolding
2012-12-28
</ADDRESS>
</BODY>
</HTML>
