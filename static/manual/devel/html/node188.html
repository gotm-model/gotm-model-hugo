<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Convert between buoyancy fluxes and others </TITLE>
<META NAME="description" CONTENT="Convert between buoyancy fluxes and others ">
<META NAME="keywords" CONTENT="html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="next" HREF="node189.html">
<LINK REL="previous" HREF="node187.html">
<LINK REL="up" HREF="node169.html">
<LINK REL="next" HREF="node189.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html2896"
  HREF="node189.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html2892"
  HREF="node169.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html2886"
  HREF="node187.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html2894"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html2897"
  HREF="node189.html">Module time  </A>
<B> Up:</B> <A NAME="tex2html2893"
  HREF="node169.html">Utilities</A>
<B> Previous:</B> <A NAME="tex2html2887"
  HREF="node187.html">Interpolate from observation space</A>
 &nbsp; <B>  <A NAME="tex2html2895"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000910000000000000000"></A><A NAME="sec:convertFluxes"></A>
<BR>
Convert between buoyancy fluxes and others 
</H2>

<P>

<P><P>
<BR>
<I CLASS="sans">INTERFACE:</I>
<PRE>  subroutine  convert_fluxes(nlev,g,cp,rho_0,heat,p_e,rad,T,S,           &amp;
                            tFlux,sFlux,btFlux,bsFlux,tRad,bRad)
</PRE>
<I CLASS="sans">DESCRIPTION:
<BR></I>

<P>
This subroutine computes the buoyancy fluxes that are due
   to
   
<OL>
<LI>the surface heat flux,
</LI>
<LI>the surface salinity flux caused by the value of
           P-E (precipitation-evaporation),
</LI>
<LI>and the short wave radiative flux.
   
</LI>
</OL>
   Additionally, it outputs the temperature flux (<TT>tFlux</TT>)
   corresponding to the surface heat flux, the salinity flux
   (<TT>sFlux</TT>)  corresponding to the value P-E, and the profile
   of the temperature flux (<TT>tRad</TT>) corresponding to the profile
   of the radiative heat flux.

<P>
This function is only called when the KPP turbulence model is used.
  When you call the KPP routines from another model outside GOTM, you
  are on your own in computing the  fluxes required by the KPP model, because
  they have to be consistent with the equation of state used in your model.

<P>

<P><P>
<BR>
<EM>USES:</EM>
<PRE>  use eqstate
  IMPLICIT NONE
</PRE><EM>INPUT PARAMETERS:</EM>
<PRE>  integer,  intent(in)                :: nlev
  REALTYPE, intent(in)                :: g,cp,rho_0
  REALTYPE, intent(in)                :: heat,p_e
  REALTYPE, intent(in)                :: rad(0:nlev)
  REALTYPE, intent(in)                :: T(0:nlev)
  REALTYPE, intent(in)                :: S(0:nlev)
</PRE><EM>OUTPUT PARAMETERS:</EM>
<PRE>  REALTYPE, intent(out)              ::  tFlux,sFlux
  REALTYPE, intent(out)               :: btFlux,bsFlux
  REALTYPE, intent(out)               :: tRad(0:nlev)
  REALTYPE, intent(out)               :: bRad(0:nlev)
</PRE><I CLASS="sans">REVISION HISTORY:</I>
<PRE>   Original author(s): Lars Umlauf
</PRE>

<P>

<P>

<BR><HR>
<ADDRESS>
Karsten Bolding
2012-12-28
</ADDRESS>
</BODY>
</HTML>
