<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Update turbulence production (Source File: production.F90)</TITLE>
<META NAME="description" CONTENT="Update turbulence production (Source File: production.F90)">
<META NAME="keywords" CONTENT="html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="next" HREF="node70.html">
<LINK REL="previous" HREF="node68.html">
<LINK REL="up" HREF="node48.html">
<LINK REL="next" HREF="node70.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html1307"
  HREF="node70.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html1303"
  HREF="node48.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html1297"
  HREF="node68.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html1305"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1308"
  HREF="node70.html">Update dimensionless alpha's (Source</A>
<B> Up:</B> <A NAME="tex2html1304"
  HREF="node48.html">Fortran: Module Interface turbulence:</A>
<B> Previous:</B> <A NAME="tex2html1298"
  HREF="node68.html">Print</A>
 &nbsp; <B>  <A NAME="tex2html1306"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION000572100000000000000"></A><A NAME="sec:production"></A>
<BR>
Update turbulence production (Source File: production.F90)
</H3>

<P>

<P><P>
<BR>
<I CLASS="sans">INTERFACE:</I>
<PRE>    subroutine production(nlev,NN,SS,xP)
</PRE>
<I CLASS="sans">DESCRIPTION:
<BR></I>

<P>
This subroutine calculates the production terms of turbulent kinetic
    energy as defined in (<A HREF="node72.html#PandG">152</A>) and the production of buoayancy
    variance as defined in (<A HREF="node74.html#Pbvertical">159</A>).
    The shear-production is computed according to
    <P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><A NAME="computeP"></A><!-- MATH
 \begin{equation}
P = \nu_t (M^2 + \alpha_w N^2) + X_P
      \; , \quad
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="217" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="img555.png"
 ALT="$\displaystyle P = \nu_t (M^2 + \alpha_w N^2) + X_P \; , \quad$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">146</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
with the turbulent diffusivity of momentum, <SPAN CLASS="MATH"><IMG
 WIDTH="17" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img38.png"
 ALT="$ \nu_t$"></SPAN>, defined in
    (<A HREF="node37.html#nu">44</A>). The shear-frequency, <SPAN CLASS="MATH"><IMG
 WIDTH="21" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img181.png"
 ALT="$ M$"></SPAN>, is discretised as described
    in section <A HREF="node33.html#sec:shear">3.2.14</A>.
     The term multiplied by <SPAN CLASS="MATH"><IMG
 WIDTH="24" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img556.png"
 ALT="$ \alpha_w$"></SPAN> traces back to
    a parameterisation of breaking internal waves suggested by
    <A
 HREF="node251.html#Mellor89"><SPAN  CLASS="textit">Mellor</SPAN> (1989)</A>. <SPAN CLASS="MATH"><IMG
 WIDTH="28" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img557.png"
 ALT="$ X_P$"></SPAN> is an extra production term, connected for
    example with turbulence production caused by sea-grass, see
    (<A HREF="node221.html#sgProduction">272</A>) in  section <A HREF="node219.html#sec:seagrass">10.1</A>. <TT>xP</TT> is an <TT>optional</TT>
    argument in the FORTRAN code.

<P>
Similarly, according to (<A HREF="node40.html#PeVertical">78</A>), the buoyancy production
    is computed from the expression
    <P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><A NAME="computeG"></A><!-- MATH
 \begin{equation}
G=-\nu^B_t N^2 + \tilde{\Gamma}_B
      \; , \quad
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="156" HEIGHT="39" ALIGN="MIDDLE" BORDER="0"
 SRC="img558.png"
 ALT="$\displaystyle G=-\nu^B_t N^2 + \tilde{\Gamma}_B \; , \quad$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">147</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
with the turbulent diffusivity, <SPAN CLASS="MATH"><IMG
 WIDTH="24" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img148.png"
 ALT="$ \nu^B_t$"></SPAN>, defined in
    (<A HREF="node37.html#nu">44</A>). The second term in (<A HREF="#computeG">147</A>) represents the non-local
    buoyancy flux. The buoyancy-frequency, <SPAN CLASS="MATH"><IMG
 WIDTH="18" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img26.png"
 ALT="$ N$"></SPAN>, is discretised as described
    in section <A HREF="node34.html#sec:stratification">3.2.15</A>.

<P>
The production of buoyancy variance by vertical meanflow gradients follows
    from (<A HREF="node40.html#PeVertical">78</A>) and (<A HREF="#computeG">147</A>)
    <P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><A NAME="computePb"></A><!-- MATH
 \begin{equation}
P_b = -G N^2
      \quad .
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="108" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="img559.png"
 ALT="$\displaystyle P_b = -G N^2 \quad .$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">148</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
Thus, according to the definition of the potential energy (<A HREF="node38.html#defkb">50</A>),
    the buoyancy production <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img41.png"
 ALT="$ G$"></SPAN> describes the conversion between turbulent
    kinetic and potential energy in (<A HREF="node72.html#tkeA">150</A>) and (<A HREF="node74.html#kbeq">158</A>), respectively.

<P>

<P><P>
<BR>
<EM>USES:</EM>
<PRE>    use turbulence, only: P,B,Pb
    use turbulence, only: num,nuh
    use turbulence, only: alpha,iw_model
    IMPLICIT NONE
</PRE><EM>INPUT PARAMETERS:</EM>
<PRE> 
    number of vertical layers
    integer,  intent(in)                :: nlev
 
    boyancy frequency squared (1/s^2)
    REALTYPE, intent(in)                :: NN(0:nlev)
 
    shear-frequency squared (1/s^2)
    REALTYPE, intent(in)                :: SS(0:nlev)
 
    TKE production due to seagrass
    friction (m^2/s^3)
    REALTYPE, intent(in), optional      :: xP(0:nlev)
</PRE><I CLASS="sans">REVISION HISTORY:</I>
<PRE>    Original author(s): Karsten Bolding, Hans Burchard
    $Log: production.F90,v $
    Revision 1.5  2010-09-17 12:53:52  jorn
    extensive code clean-up to ensure proper initialization and clean-up of all variables
    Revision 1.4  2005-08-28 09:40:03  hb
    Misspelling in documentation corrected.
    Revision 1.3  2005/08/11 13:01:49  lars
    Added explicit loops for 3-D z-level support. Thanks to Vicente Fernandez.
    Revision 1.2  2005/07/19 16:46:14  hb
    removed superfluous variables - NNT, NNS, SSU, SSV
    Revision 1.1  2005/06/27 10:54:33  kbk
    new files needed
    Revision 1.6  2003/03/28 09:20:35  kbk
    added new copyright to files
    Revision 1.5  2003/03/28 08:56:56  kbk
    removed tabs
    Revision 1.4  2003/03/10 08:50:07  gotm
    Improved documentation and cleaned up code
    Revision 1.3  2002/02/08 08:59:57  gotm
    Revision 1.2  2001/11/18 16:02:16  gotm
    Allow no_shear calculation
    Revision 1.1.1.1  2001/02/12 15:55:57  gotm
    initial import into CVS
</PRE>

<P>

<P>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html1307"
  HREF="node70.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html1303"
  HREF="node48.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html1297"
  HREF="node68.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html1305"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html1308"
  HREF="node70.html">Update dimensionless alpha's (Source</A>
<B> Up:</B> <A NAME="tex2html1304"
  HREF="node48.html">Fortran: Module Interface turbulence:</A>
<B> Previous:</B> <A NAME="tex2html1298"
  HREF="node68.html">Print</A>
 &nbsp; <B>  <A NAME="tex2html1306"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Karsten Bolding
2012-01-24
</ADDRESS>
</BODY>
</HTML>
